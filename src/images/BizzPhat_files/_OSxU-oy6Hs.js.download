if (self.CavalryLogger) { CavalryLogger.start_js(["GWEZN"]); }

__d("PlatformDialogOauthWrite",["Arbiter","PrivacyConst","SelectorDeprecated"],(function(a,b,c,d,e,f){a={subscribeAudienceText:function(a,c,d){b("Arbiter").subscribe("platform/privacy/app-audience",function(b,e){a.show(c[e]||d)}),b("Arbiter").subscribe("AudienceSelector/changed",function(e,f){e=b("SelectorDeprecated").getOptionValue(f.option);e!=b("PrivacyConst").BaseValue.CUSTOM&&a.show(c[e]||d)}),b("Arbiter").subscribe("CustomPrivacyOptionController/update",function(e,f){a.show(c[b("SelectorDeprecated").getOptionValue(f.option)]||d)})}};e.exports=a}),null);
__d("PlatformDialogStack",["CSS","ge"],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){this._root=a,this._showing=b}Object.assign(a.prototype,{getRoot:function(){return this._root},getShowing:function(){return this._showing},show:function(a){Array.from(this._root.childNodes).forEach(b("CSS").hide,b("CSS"));b("CSS").show(b("ge")(a,this._root));this._showing=a;return this}});e.exports=a}),null);
__d("TagTypeaheadView",["AsyncRequest","ContextualTypeaheadView","CSS","DOM","FamilyTaggingConfig","Parent"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("ContextualTypeaheadView"));g=c&&c.prototype;function a(a,b){"use strict";g.constructor.call(this,a,b),this.hintText=b.hintText,this.userEd=b.userEd,this.origAutoSelect=b.autoSelect,this.setSuggestions(b.suggestions)}a.prototype.init=function(){"use strict";b("CSS").addClass(this.element,"uiTagTypeaheadView"),g.init.call(this)};a.prototype.buildResults=function(a){"use strict";__p&&__p();!this.value&&this.hintText&&a.unshift({subtext:this.hintText,type:"hintText"});this.userEd&&(new(b("AsyncRequest"))().setURI("/ajax/fof/user_education.php").setData({increment:1}).send(),a.unshift({subtext:this.userEd,type:"userEdText"}));if(b("FamilyTaggingConfig").gk){var c=[],d=[];for(var e=0;e<a.length;e++)a[e].type!=="family_tags"&&a[e].index!=-1e3&&a[e].type!=="hintText"?c.push(a[e]):d.push(a[e]);a=d.concat(c);g.updateResults.call(this,a)}e=g.buildResults.call(this,a);this.userEd&&a.shift();this.value||a.shift();return e};a.prototype.show=function(){"use strict";var a=b("DOM").scry(this.context,".typeaheadBackdrop");a.length>0&&b("CSS").addClass(a[0],"resultsPresent");return g.show.call(this)};a.prototype.hide=function(){"use strict";var a=b("DOM").scry(this.context,".typeaheadBackdrop");a.length>0&&b("CSS").removeClass(a[0],"resultsPresent");return g.hide.call(this)};a.prototype.render=function(a,b,c){"use strict";this.autoSelect=this.origAutoSelect&&a.length,this.disableAutoSelect=a.length===0,b=b.concat(this.getAdditionalResults()),g.render.call(this,a,b,c)};a.prototype.getItems=function(){"use strict";var a=g.getItems.call(this);this.value||a.shift();this.userEd&&a.shift();return a};a.prototype.getSuggestions=function(){"use strict";return this.suggestions};a.prototype.setSuggestions=function(a){"use strict";this.suggestions=a?a.map(String):[],this.visible=!!this.suggestions.length};a.prototype.addSuggestion=function(a){"use strict";this.suggestions.unshift(a)};a.prototype.addTypeaheadFlip=function(a){"use strict";b("CSS").addClass(this.element,a)};a.prototype.removeTypeaheadFlip=function(a){"use strict";b("CSS").removeClass(this.element,a)};a.prototype.getContext=function(){"use strict";var a=b("Parent").byClass(this.element,"typeaheadContainer");if(a)return a;else return g.getContext.call(this)};a.prototype.getAdditionalResults=function(){"use strict";return[]};e.exports=a}),null);
__d("legacy:AudienceSelector",["AudienceSelector"],(function(a,b,c,d,e,f){b("AudienceSelector")}),3);
__d("FriendListPrivacyOptions",["Arbiter","AsyncDialog","AsyncRequest","DOMQuery","PageTransitions","Parent","SelectorDeprecated","$","ge","nullthrows"],(function(a,b,c,d,e,f){__p&&__p();var g=!1,h=!1,i=null,j={},k=function(a){__p&&__p();Object.keys(j).length||b("PageTransitions").registerHandler(function(){j={},g=!1,h=!1});var c=a.getAttribute("data-name");j[c]=a;b("SelectorDeprecated").listen(a,"select",function(a){a=a.option;var c=b("DOMQuery").find(a,"a.itemAnchor"),d=c.getAttribute("data-flid");if(!d)return;c=c.getAttribute("data-dynamic");c&&g?l.showSmartListNux(a,d):!c&&h&&l.showDumbListNux([d])})},l={listen:function(a,c,d){a=b("ge")(a);if(!a)return;a=b("Parent").byClass(a,"audienceSelector");a&&(k(a),g=c,h=d)},showSmartListNux:function(a,c){a=b("$")(a);new(b("AsyncRequest"))("/ajax/friends/lists/smart_list_publish_nux.php").setData({option_id:a.id,flid:c}).send();g=!1},setContextualDialog:function(a,c){__p&&__p();c=b("$")(c);c=b("Parent").byClass(c,"audienceSelector");if(c){a.setContext(c);a.show();var d=b("Arbiter").subscribe("composer/publish",function(){a.hide()});a.subscribe("hide",function(){d.unsubscribe()})}},showDumbListNux:function(a){b("AsyncDialog").send(new(b("AsyncRequest"))("/ajax/friends/lists/dumb_list_publish_nux.php").setData({flids:a})),h=!1},showBothListsNux:function(a,c){i=b("$")(a),l.showDumbListNux(c)},setDialogX:function(a){if(!i)return;a.subscribe("hide",function(){l.showSmartListNux(b("nullthrows")(i)),i=null})}};e.exports=l}),null);
__d("TypeaheadHintText",["emptyFunction"],(function(a,b,c,d,e,f){function a(a){"use strict";this._typeahead=a}a.prototype.enable=function(){"use strict";this._typeahead.getCore().resetOnKeyup=!1};Object.assign(a.prototype,{disable:b("emptyFunction")});e.exports=a}),null);
__d("legacy:HintTextTypeaheadBehavior",["TypeaheadHintText"],(function(a,b,c,d,e,f){a.TypeaheadBehaviors||(a.TypeaheadBehaviors={}),a.TypeaheadBehaviors.hintText=function(a){a.enableBehavior(b("TypeaheadHintText"))}}),3);